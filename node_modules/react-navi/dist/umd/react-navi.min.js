!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("react"),require("navi")):"function"==typeof define&&define.amd?define(["exports","react","navi"],e):e((t=t||self).ReactNavi={},t.React,t.Navi)}(this,function(t,e,n){"use strict";var r="default"in e?e.default:e,o=e.createContext({}),i=(o.Consumer,o.Provider);function a(t,e){if(t){var n=document.getElementById(t.slice(1));if(n){var r=n.getBoundingClientRect(),o=r.top,i=r.left;try{window.scroll({top:o+window.pageYOffset,left:i+window.pageXOffset,behavior:e})}catch(t){window.scroll(i+window.pageXOffset,o+window.pageYOffset)}n.focus()}}else window.scroll({top:0,left:0,behavior:e})}var u,c=(u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},l=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},f=e.createContext(void 0),p=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.renderChildren=function(t){var r=t.onClick;return n.props.onClick&&(r=function(e){n.props.onClick(e),e.defaultPrevented||t.onClick(e)}),e.createElement("a",s({},t,n.props,{onClick:r}))},n}return c(n,t),n.prototype.render=function(){return e.createElement(f.Consumer,{children:this.renderChildren})},n}(e.Component),d=Object.assign(e.forwardRef(function(t,n){return e.createElement(o.Consumer,null,function(r){return e.createElement(h,s({},t,{context:r,anchorRef:n}))})}),{Anchor:p});d.defaultProps={render:function(t){var n=t.active,r=t.activeClassName,o=t.activeStyle,i=t.children,a=t.className,u=t.hidden,c=t.style;return e.createElement(p,{children:i,className:(a||"")+" "+(n&&r||""),hidden:u,style:Object.assign({},c,n?o:{})})}};var h=function(t){function r(e){var r=t.call(this,e)||this;r.handleClick=function(t){if(0===t.button&&!(t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)){if(r.props.disabled)return void t.preventDefault();if(r.props.onClick&&r.props.onClick(t),r.props.target)return;var e=r.getURL();if(!t.defaultPrevented&&e){t.preventDefault();var o=(r.props.context.busyRoute||r.props.context.steadyRoute).url,i=n.modifyTrailingSlash(e.pathname,"remove")===n.modifyTrailingSlash(o.pathname,"remove");r.props.context.navigation.navigate(e),(i||""===e.pathname)&&e.hash===o.hash&&e.hash&&a(o.hash,"smooth")}}};var o=r.getURL(),i=e.context.navigation;return i&&o&&o.pathname&&e.prefetch&&i.prefetch(o).catch(function(t){console.warn('A <Link> tried to prefetch "'+o.pathname+'", but the router was unable to fetch this path.')}),r}return c(r,t),r.prototype.getNavigationURL=function(){var t=this.props.context,e=t.steadyRoute||t.busyRoute;return e&&e.url},r.prototype.getURL=function(){var t=this.props.href;if(t&&("string"!=typeof t||-1===t.indexOf("://")&&0!==t.indexOf("mailto:"))){var e=this.getNavigationURL();return e&&"string"==typeof t&&(t="/"===t[0]?t:n.joinPaths("/",e.pathname,t)),n.createURLDescriptor(t)}},r.prototype.render=function(){var t=this.props,r=t.active,o=t.activeStyle,i=t.activeClassName,a=t.anchorRef,u=(t.onClick,t.prefetch,t.render),c=t.exact,p=l(t,["active","activeStyle","activeClassName","anchorRef","onClick","prefetch","render","exact"]),d=this.getNavigationURL(),h=this.getURL();r=void 0!==r?r:!(!h||!d||(c?h.pathname!==d.pathname:0!==n.modifyTrailingSlash(d.pathname,"add").indexOf(h.pathname)));var y=s({},p,{onClick:this.handleClick,ref:a,href:"string"==typeof p.href?p.href:h?h.href:""});return e.createElement(f.Provider,{value:y},u({active:r,activeClassName:i,activeStyle:o,anchorProps:y,children:p.children,className:p.className,disabled:p.disabled,tabIndex:p.tabIndex,hidden:p.hidden,href:h?h.href:p.href,id:p.id,lang:p.lang,style:p.style,target:p.target,title:p.title,onClick:this.handleClick}))},r}(e.Component),y=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),T=function(t){function n(e){var n=t.call(this,e)||this;return n.handleNavigationSnapshot=function(t){"busy"!==t.type?n.setState({steadyRoute:t,busyRoute:void 0}):n.setState({busyRoute:t})},n.handleError=function(t){throw t},n.state={},n}return y(n,t),n.getDerivedStateFromProps=function(t,e){if(e.navigation!==t.navigation){var n=t.navigation.getCurrentValue();return"busy"===n.type?{steadyRoute:e.steadyRoute,busyRoute:n,navigation:t.navigation}:{steadyRoute:n,busyRoute:void 0,navigation:t.navigation}}return null},n.prototype.render=function(){return e.createElement(o.Provider,{value:this.state},this.props.children)},n.prototype.componentDidMount=function(){this.subscribe()},n.prototype.componentDidUpdate=function(t){t.navigation!==this.props.navigation&&(this.unsubscribe(),this.subscribe())},n.prototype.componentWillUnmount=function(){this.unsubscribe()},n.prototype.subscribe=function(){if(!this.props.navigation)throw new Error('A <NaviProvider> component must receive a "navigation" prop.');this.subscription=this.props.navigation.subscribe(this.handleNavigationSnapshot,this.handleError)},n.prototype.unsubscribe=function(){this.subscription&&(this.subscription.unsubscribe(),delete this.subscription)},n}(e.Component),E=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),v=function(){return(v=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},m=function(t){return e.createElement(o.Consumer,null,function(n){return e.createElement(b,v({context:n},t))})},b=function(t){function e(e){var n=t.call(this,e)||this;return n.state={},n}return E(e,t),e.getDerivedStateFromProps=function(t,e){return e.error&&t.context.steadyRoute.url.pathname!==e.errorPathname?{error:void 0,errorPathname:void 0,errorInfo:void 0}:null},e.prototype.componentDidCatch=function(t,e){if(!(t instanceof n.NotFoundError))throw t;this.setState({error:t,errorInfo:e,errorPathname:this.props.context.steadyRoute.url.pathname})},e.prototype.componentDidUpdate=function(t,e){this.state.error&&e.error},e.prototype.render=function(){return this.state.error?this.props.render(this.state.error):this.props.children},e}(e.Component),A="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function S(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function g(t,e){return t(e={exports:{}},e.exports),e.exports}var _=g(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,s=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116;function T(t){if("object"==typeof t&&null!==t){var e=t.$$typeof;switch(e){case r:switch(t=t.type){case l:case f:case i:case u:case a:case d:return t;default:switch(t=t&&t.$$typeof){case s:case p:case c:return t;default:return e}}case y:case h:case o:return e}}}function E(t){return T(t)===f}e.typeOf=T,e.AsyncMode=l,e.ConcurrentMode=f,e.ContextConsumer=s,e.ContextProvider=c,e.Element=r,e.ForwardRef=p,e.Fragment=i,e.Lazy=y,e.Memo=h,e.Portal=o,e.Profiler=u,e.StrictMode=a,e.Suspense=d,e.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===i||t===f||t===u||t===a||t===d||"object"==typeof t&&null!==t&&(t.$$typeof===y||t.$$typeof===h||t.$$typeof===c||t.$$typeof===s||t.$$typeof===p)},e.isAsyncMode=function(t){return E(t)||T(t)===l},e.isConcurrentMode=E,e.isContextConsumer=function(t){return T(t)===s},e.isContextProvider=function(t){return T(t)===c},e.isElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===r},e.isForwardRef=function(t){return T(t)===p},e.isFragment=function(t){return T(t)===i},e.isLazy=function(t){return T(t)===y},e.isMemo=function(t){return T(t)===h},e.isPortal=function(t){return T(t)===o},e.isProfiler=function(t){return T(t)===u},e.isStrictMode=function(t){return T(t)===a},e.isSuspense=function(t){return T(t)===d}});S(_);_.typeOf,_.AsyncMode,_.ConcurrentMode,_.ContextConsumer,_.ContextProvider,_.Element,_.ForwardRef,_.Fragment,_.Lazy,_.Memo,_.Portal,_.Profiler,_.StrictMode,_.Suspense,_.isValidElementType,_.isAsyncMode,_.isConcurrentMode,_.isContextConsumer,_.isContextProvider,_.isElement,_.isForwardRef,_.isFragment,_.isLazy,_.isMemo,_.isPortal,_.isProfiler,_.isStrictMode,_.isSuspense;var O=g(function(t,e){});S(O);O.typeOf,O.AsyncMode,O.ConcurrentMode,O.ContextConsumer,O.ContextProvider,O.Element,O.ForwardRef,O.Fragment,O.Lazy,O.Memo,O.Portal,O.Profiler,O.StrictMode,O.Suspense,O.isValidElementType,O.isAsyncMode,O.isConcurrentMode,O.isContextConsumer,O.isContextProvider,O.isElement,O.isForwardRef,O.isFragment,O.isLazy,O.isMemo,O.isPortal,O.isProfiler,O.isStrictMode,O.isSuspense,g(function(t){t.exports=_});var P=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var w=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,r,o=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),i=1;i<arguments.length;i++){for(var a in n=Object(arguments[i]))C.call(n,a)&&(o[a]=n[a]);if(P){r=P(n);for(var u=0;u<r.length;u++)R.call(n,r[u])&&(o[r[u]]=n[r[u]])}}return o},M="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";Function.call.bind(Object.prototype.hasOwnProperty);function N(){}function I(){}I.resetWarningCache=N;var L=g(function(t){t.exports=function(){function t(t,e,n,r,o,i){if(i!==M){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:I,resetWarningCache:N};return n.PropTypes=n,n}()}),j=g(function(t){var e,n;e=!("undefined"==typeof window||!window.document||!window.document.createElement),n={canUseDOM:e,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:e&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:e&&!!window.screen},t.exports?t.exports=n:window.ExecutionEnvironment=n});j.canUseDOM;function x(t){return t&&"object"==typeof t&&"default"in t?t.default:t}r=x(r);var G=x(j),k=x(function(t,e,n,r){var o=n?n.call(r,t,e):void 0;if(void 0!==o)return!!o;if(t===e)return!0;if("object"!=typeof t||!t||"object"!=typeof e||!e)return!1;var i=Object.keys(t),a=Object.keys(e);if(i.length!==a.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(e),c=0;c<i.length;c++){var s=i[c];if(!u(s))return!1;var l=t[s],f=e[s];if(!1===(o=n?n.call(r,l,f,s):void 0)||void 0===o&&l!==f)return!1}return!0});var H=function(t,e,n){if("function"!=typeof t)throw new Error("Expected reducePropsToState to be a function.");if("function"!=typeof e)throw new Error("Expected handleStateChangeOnClient to be a function.");if(void 0!==n&&"function"!=typeof n)throw new Error("Expected mapStateOnServer to either be undefined or a function.");return function(o){if("function"!=typeof o)throw new Error("Expected WrappedComponent to be a React component.");var i=[],a=void 0;function u(){a=t(i.map(function(t){return t.props})),c.canUseDOM?e(a):n&&(a=n(a))}var c=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.peek=function(){return a},e.rewind=function(){if(e.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var t=a;return a=void 0,i=[],t},e.prototype.shouldComponentUpdate=function(t){return!k(t,this.props)},e.prototype.componentWillMount=function(){i.push(this),u()},e.prototype.componentDidUpdate=function(){u()},e.prototype.componentWillUnmount=function(){var t=i.indexOf(this);i.splice(t,1),u()},e.prototype.render=function(){return r.createElement(o,this.props)},e}(r.Component);return c.displayName="SideEffect("+function(t){return t.displayName||t.name||"Component"}(o)+")",c.canUseDOM=G.canUseDOM,c}},U=g(function(t,e){function n(t){var e=[];for(var n in t)e.push(n);return e}(t.exports="function"==typeof Object.keys?Object.keys:n).shim=n}),D=(U.shim,g(function(t,e){var n="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function r(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function o(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||!1}(e=t.exports=n?r:o).supported=r,e.unsupported=o})),B=(D.supported,D.unsupported,g(function(t){var e=Array.prototype.slice,n=t.exports=function(t,i,a){return a||(a={}),t===i||(t instanceof Date&&i instanceof Date?t.getTime()===i.getTime():!t||!i||"object"!=typeof t&&"object"!=typeof i?a.strict?t===i:t==i:function(t,i,a){var u,c;if(r(t)||r(i))return!1;if(t.prototype!==i.prototype)return!1;if(D(t))return!!D(i)&&(t=e.call(t),i=e.call(i),n(t,i,a));if(o(t)){if(!o(i))return!1;if(t.length!==i.length)return!1;for(u=0;u<t.length;u++)if(t[u]!==i[u])return!1;return!0}try{var s=U(t),l=U(i)}catch(t){return!1}if(s.length!=l.length)return!1;for(s.sort(),l.sort(),u=s.length-1;u>=0;u--)if(s[u]!=l[u])return!1;for(u=s.length-1;u>=0;u--)if(c=s[u],!n(t[c],i[c],a))return!1;return typeof t==typeof i}(t,i,a))};function r(t){return null==t}function o(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length)&&("function"==typeof t.copy&&"function"==typeof t.slice&&!(t.length>0&&"number"!=typeof t[0]))}})),F=g(function(t,e){e.__esModule=!0;e.ATTRIBUTE_NAMES={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"};var n=e.TAG_NAMES={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"},r=(e.VALID_TAG_NAMES=Object.keys(n).map(function(t){return n[t]}),e.TAG_PROPERTIES={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src"},e.REACT_TAG_MAP={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"});e.HELMET_PROPS={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},e.HTML_TAG_MAP=Object.keys(r).reduce(function(t,e){return t[r[e]]=e,t},{}),e.SELF_CLOSING_TAGS=[n.NOSCRIPT,n.SCRIPT,n.STYLE],e.HELMET_ATTRIBUTE="data-react-helmet"});S(F);F.ATTRIBUTE_NAMES,F.TAG_NAMES,F.VALID_TAG_NAMES,F.TAG_PROPERTIES,F.REACT_TAG_MAP,F.HELMET_PROPS,F.HTML_TAG_MAP,F.SELF_CLOSING_TAGS,F.HELMET_ATTRIBUTE;var Y=g(function(t,e){e.__esModule=!0,e.warn=e.requestAnimationFrame=e.reducePropsToState=e.mapStateOnServer=e.handleClientStateChange=e.convertReactPropstoHtmlAttributes=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=u(r),a=u(w);function u(t){return t&&t.__esModule?t:{default:t}}var c,s=function(t){return!1===(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},l=function(t){var e=y(t,F.TAG_NAMES.TITLE),n=y(t,F.HELMET_PROPS.TITLE_TEMPLATE);if(n&&e)return n.replace(/%s/g,function(){return e});var r=y(t,F.HELMET_PROPS.DEFAULT_TITLE);return e||r||void 0},f=function(t){return y(t,F.HELMET_PROPS.ON_CHANGE_CLIENT_STATE)||function(){}},p=function(t,e){return e.filter(function(e){return void 0!==e[t]}).map(function(e){return e[t]}).reduce(function(t,e){return o({},t,e)},{})},d=function(t,e){return e.filter(function(t){return void 0!==t[F.TAG_NAMES.BASE]}).map(function(t){return t[F.TAG_NAMES.BASE]}).reverse().reduce(function(e,n){if(!e.length)for(var r=Object.keys(n),o=0;o<r.length;o++){var i=r[o].toLowerCase();if(-1!==t.indexOf(i)&&n[i])return e.concat(n)}return e},[])},h=function(t,e,r){var o={};return r.filter(function(e){return!!Array.isArray(e[t])||(void 0!==e[t]&&b("Helmet: "+t+' should be of type "Array". Instead found type "'+n(e[t])+'"'),!1)}).map(function(e){return e[t]}).reverse().reduce(function(t,n){var r={};n.filter(function(t){for(var n=void 0,i=Object.keys(t),a=0;a<i.length;a++){var u=i[a],c=u.toLowerCase();-1===e.indexOf(c)||n===F.TAG_PROPERTIES.REL&&"canonical"===t[n].toLowerCase()||c===F.TAG_PROPERTIES.REL&&"stylesheet"===t[c].toLowerCase()||(n=c),-1===e.indexOf(u)||u!==F.TAG_PROPERTIES.INNER_HTML&&u!==F.TAG_PROPERTIES.CSS_TEXT&&u!==F.TAG_PROPERTIES.ITEM_PROP||(n=u)}if(!n||!t[n])return!1;var s=t[n].toLowerCase();return o[n]||(o[n]={}),r[n]||(r[n]={}),!o[n][s]&&(r[n][s]=!0,!0)}).reverse().forEach(function(e){return t.push(e)});for(var i=Object.keys(r),u=0;u<i.length;u++){var c=i[u],s=(0,a.default)({},o[c],r[c]);o[c]=s}return t},[]).reverse()},y=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t[n];if(r.hasOwnProperty(e))return r[e]}return null},T=(c=Date.now(),function(t){var e=Date.now();e-c>16?(c=e,t(e)):setTimeout(function(){T(t)},0)}),E=function(t){return clearTimeout(t)},v="undefined"!=typeof window?window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||T:A.requestAnimationFrame||T,m="undefined"!=typeof window?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||E:A.cancelAnimationFrame||E,b=function(t){return console&&"function"==typeof console.warn&&console.warn(t)},S=null,g=function(t,e){var n=t.baseTag,r=t.bodyAttributes,o=t.htmlAttributes,i=t.linkTags,a=t.metaTags,u=t.noscriptTags,c=t.onChangeClientState,s=t.scriptTags,l=t.styleTags,f=t.title,p=t.titleAttributes;P(F.TAG_NAMES.BODY,r),P(F.TAG_NAMES.HTML,o),O(f,p);var d={baseTag:C(F.TAG_NAMES.BASE,n),linkTags:C(F.TAG_NAMES.LINK,i),metaTags:C(F.TAG_NAMES.META,a),noscriptTags:C(F.TAG_NAMES.NOSCRIPT,u),scriptTags:C(F.TAG_NAMES.SCRIPT,s),styleTags:C(F.TAG_NAMES.STYLE,l)},h={},y={};Object.keys(d).forEach(function(t){var e=d[t],n=e.newTags,r=e.oldTags;n.length&&(h[t]=n),r.length&&(y[t]=d[t].oldTags)}),e&&e(),c(t,h,y)},_=function(t){return Array.isArray(t)?t.join(""):t},O=function(t,e){void 0!==t&&document.title!==t&&(document.title=_(t)),P(F.TAG_NAMES.TITLE,e)},P=function(t,e){var n=document.getElementsByTagName(t)[0];if(n){for(var r=n.getAttribute(F.HELMET_ATTRIBUTE),o=r?r.split(","):[],i=[].concat(o),a=Object.keys(e),u=0;u<a.length;u++){var c=a[u],s=e[c]||"";n.getAttribute(c)!==s&&n.setAttribute(c,s),-1===o.indexOf(c)&&o.push(c);var l=i.indexOf(c);-1!==l&&i.splice(l,1)}for(var f=i.length-1;f>=0;f--)n.removeAttribute(i[f]);o.length===i.length?n.removeAttribute(F.HELMET_ATTRIBUTE):n.getAttribute(F.HELMET_ATTRIBUTE)!==a.join(",")&&n.setAttribute(F.HELMET_ATTRIBUTE,a.join(","))}},C=function(t,e){var n=document.head||document.querySelector(F.TAG_NAMES.HEAD),r=n.querySelectorAll(t+"["+F.HELMET_ATTRIBUTE+"]"),o=Array.prototype.slice.call(r),i=[],a=void 0;return e&&e.length&&e.forEach(function(e){var n=document.createElement(t);for(var r in e)if(e.hasOwnProperty(r))if(r===F.TAG_PROPERTIES.INNER_HTML)n.innerHTML=e.innerHTML;else if(r===F.TAG_PROPERTIES.CSS_TEXT)n.styleSheet?n.styleSheet.cssText=e.cssText:n.appendChild(document.createTextNode(e.cssText));else{var u=void 0===e[r]?"":e[r];n.setAttribute(r,u)}n.setAttribute(F.HELMET_ATTRIBUTE,"true"),o.some(function(t,e){return a=e,n.isEqualNode(t)})?o.splice(a,1):i.push(n)}),o.forEach(function(t){return t.parentNode.removeChild(t)}),i.forEach(function(t){return n.appendChild(t)}),{oldTags:o,newTags:i}},R=function(t){return Object.keys(t).reduce(function(e,n){var r=void 0!==t[n]?n+'="'+t[n]+'"':""+n;return e?e+" "+r:r},"")},M=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).reduce(function(e,n){return e[F.REACT_TAG_MAP[n]||n]=t[n],e},e)},N=function(t,e,n){switch(t){case F.TAG_NAMES.TITLE:return{toComponent:function(){return t=e.title,n=e.titleAttributes,(r={key:t})[F.HELMET_ATTRIBUTE]=!0,o=M(n,r),[i.default.createElement(F.TAG_NAMES.TITLE,o,t)];var t,n,r,o},toString:function(){return function(t,e,n,r){var o=R(n),i=_(e);return o?"<"+t+" "+F.HELMET_ATTRIBUTE+'="true" '+o+">"+s(i,r)+"</"+t+">":"<"+t+" "+F.HELMET_ATTRIBUTE+'="true">'+s(i,r)+"</"+t+">"}(t,e.title,e.titleAttributes,n)}};case F.ATTRIBUTE_NAMES.BODY:case F.ATTRIBUTE_NAMES.HTML:return{toComponent:function(){return M(e)},toString:function(){return R(e)}};default:return{toComponent:function(){return function(t,e){return e.map(function(e,n){var r,o=((r={key:n})[F.HELMET_ATTRIBUTE]=!0,r);return Object.keys(e).forEach(function(t){var n=F.REACT_TAG_MAP[t]||t;if(n===F.TAG_PROPERTIES.INNER_HTML||n===F.TAG_PROPERTIES.CSS_TEXT){var r=e.innerHTML||e.cssText;o.dangerouslySetInnerHTML={__html:r}}else o[n]=e[t]}),i.default.createElement(t,o)})}(t,e)},toString:function(){return function(t,e,n){return e.reduce(function(e,r){var o=Object.keys(r).filter(function(t){return!(t===F.TAG_PROPERTIES.INNER_HTML||t===F.TAG_PROPERTIES.CSS_TEXT)}).reduce(function(t,e){var o=void 0===r[e]?e:e+'="'+s(r[e],n)+'"';return t?t+" "+o:o},""),i=r.innerHTML||r.cssText||"",a=-1===F.SELF_CLOSING_TAGS.indexOf(t);return e+"<"+t+" "+F.HELMET_ATTRIBUTE+'="true" '+o+(a?"/>":">"+i+"</"+t+">")},"")}(t,e,n)}}}};e.convertReactPropstoHtmlAttributes=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).reduce(function(e,n){return e[F.HTML_TAG_MAP[n]||n]=t[n],e},e)},e.handleClientStateChange=function(t){S&&m(S),t.defer?S=v(function(){g(t,function(){S=null})}):(g(t),S=null)},e.mapStateOnServer=function(t){var e=t.baseTag,n=t.bodyAttributes,r=t.encode,o=t.htmlAttributes,i=t.linkTags,a=t.metaTags,u=t.noscriptTags,c=t.scriptTags,s=t.styleTags,l=t.title,f=void 0===l?"":l,p=t.titleAttributes;return{base:N(F.TAG_NAMES.BASE,e,r),bodyAttributes:N(F.ATTRIBUTE_NAMES.BODY,n,r),htmlAttributes:N(F.ATTRIBUTE_NAMES.HTML,o,r),link:N(F.TAG_NAMES.LINK,i,r),meta:N(F.TAG_NAMES.META,a,r),noscript:N(F.TAG_NAMES.NOSCRIPT,u,r),script:N(F.TAG_NAMES.SCRIPT,c,r),style:N(F.TAG_NAMES.STYLE,s,r),title:N(F.TAG_NAMES.TITLE,{title:f,titleAttributes:p},r)}},e.reducePropsToState=function(t){return{baseTag:d([F.TAG_PROPERTIES.HREF],t),bodyAttributes:p(F.ATTRIBUTE_NAMES.BODY,t),defer:y(t,F.HELMET_PROPS.DEFER),encode:y(t,F.HELMET_PROPS.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:p(F.ATTRIBUTE_NAMES.HTML,t),linkTags:h(F.TAG_NAMES.LINK,[F.TAG_PROPERTIES.REL,F.TAG_PROPERTIES.HREF],t),metaTags:h(F.TAG_NAMES.META,[F.TAG_PROPERTIES.NAME,F.TAG_PROPERTIES.CHARSET,F.TAG_PROPERTIES.HTTPEQUIV,F.TAG_PROPERTIES.PROPERTY,F.TAG_PROPERTIES.ITEM_PROP],t),noscriptTags:h(F.TAG_NAMES.NOSCRIPT,[F.TAG_PROPERTIES.INNER_HTML],t),onChangeClientState:f(t),scriptTags:h(F.TAG_NAMES.SCRIPT,[F.TAG_PROPERTIES.SRC,F.TAG_PROPERTIES.INNER_HTML],t),styleTags:h(F.TAG_NAMES.STYLE,[F.TAG_PROPERTIES.CSS_TEXT],t),title:l(t),titleAttributes:p(F.ATTRIBUTE_NAMES.TITLE,t)}},e.requestAnimationFrame=v,e.warn=b});S(Y);Y.warn,Y.requestAnimationFrame,Y.reducePropsToState,Y.mapStateOnServer,Y.handleClientStateChange,Y.convertReactPropstoHtmlAttributes;var q=g(function(t,e){e.__esModule=!0,e.Helmet=void 0;var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=s(r),a=s(L),u=s(H),c=s(B);function s(t){return t&&t.__esModule?t:{default:t}}function l(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var f,p,d,h=(0,u.default)(Y.reducePropsToState,Y.handleClientStateChange,Y.mapStateOnServer)(function(){return null}),y=(f=h,d=p=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.shouldComponentUpdate=function(t){return!(0,c.default)(this.props,t)},e.prototype.mapNestedChildrenToProps=function(t,e){if(!e)return null;switch(t.type){case F.TAG_NAMES.SCRIPT:case F.TAG_NAMES.NOSCRIPT:return{innerHTML:e};case F.TAG_NAMES.STYLE:return{cssText:e}}throw new Error("<"+t.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},e.prototype.flattenArrayTypeChildren=function(t){var e,r=t.child,o=t.arrayTypeChildren,i=t.newChildProps,a=t.nestedChildren;return n({},o,((e={})[r.type]=[].concat(o[r.type]||[],[n({},i,this.mapNestedChildrenToProps(r,a))]),e))},e.prototype.mapObjectTypeChildren=function(t){var e,r,o=t.child,i=t.newProps,a=t.newChildProps,u=t.nestedChildren;switch(o.type){case F.TAG_NAMES.TITLE:return n({},i,((e={})[o.type]=u,e.titleAttributes=n({},a),e));case F.TAG_NAMES.BODY:return n({},i,{bodyAttributes:n({},a)});case F.TAG_NAMES.HTML:return n({},i,{htmlAttributes:n({},a)})}return n({},i,((r={})[o.type]=n({},a),r))},e.prototype.mapArrayTypeChildrenToProps=function(t,e){var r=n({},e);return Object.keys(t).forEach(function(e){var o;r=n({},r,((o={})[e]=t[e],o))}),r},e.prototype.warnOnInvalidChildren=function(t,e){return!0},e.prototype.mapChildrenToProps=function(t,e){var n=this,r={};return i.default.Children.forEach(t,function(t){if(t&&t.props){var o=t.props,i=o.children,a=l(o,["children"]),u=(0,Y.convertReactPropstoHtmlAttributes)(a);switch(n.warnOnInvalidChildren(t,i),t.type){case F.TAG_NAMES.LINK:case F.TAG_NAMES.META:case F.TAG_NAMES.NOSCRIPT:case F.TAG_NAMES.SCRIPT:case F.TAG_NAMES.STYLE:r=n.flattenArrayTypeChildren({child:t,arrayTypeChildren:r,newChildProps:u,nestedChildren:i});break;default:e=n.mapObjectTypeChildren({child:t,newProps:e,newChildProps:u,nestedChildren:i})}}}),e=this.mapArrayTypeChildrenToProps(r,e)},e.prototype.render=function(){var t=this.props,e=t.children,r=l(t,["children"]),o=n({},r);return e&&(o=this.mapChildrenToProps(e,o)),i.default.createElement(f,o)},o(e,null,[{key:"canUseDOM",set:function(t){f.canUseDOM=t}}]),e}(i.default.Component),p.propTypes={base:a.default.object,bodyAttributes:a.default.object,children:a.default.oneOfType([a.default.arrayOf(a.default.node),a.default.node]),defaultTitle:a.default.string,defer:a.default.bool,encodeSpecialCharacters:a.default.bool,htmlAttributes:a.default.object,link:a.default.arrayOf(a.default.object),meta:a.default.arrayOf(a.default.object),noscript:a.default.arrayOf(a.default.object),onChangeClientState:a.default.func,script:a.default.arrayOf(a.default.object),style:a.default.arrayOf(a.default.object),title:a.default.string,titleAttributes:a.default.object,titleTemplate:a.default.string},p.defaultProps={defer:!0,encodeSpecialCharacters:!0},p.peek=f.peek,p.rewind=function(){var t=f.rewind();return t||(t=(0,Y.mapStateOnServer)({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),t},d);y.renderStatic=y.rewind,e.Helmet=y,e.default=y});S(q);var V=q.Helmet,$=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),K=function(){return(K=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},W=function(t){return e.createElement(o.Consumer,null,function(n){return e.createElement(X,K({},t,{context:n}))})};W.defaultProps={hashScrollBehavior:"smooth",where:function(t){return"view"===t.type}};var z={};var X=function(t){function n(e){var n=t.call(this,e)||this;return n.state={},n}return $(n,t),n.getDerivedStateFromProps=function(t,e){var n=t.context.steadyRoute||t.context.busyRoute;if(!n)return null;if(e.route===n&&e.childContext&&e.childContext.busyRoute===t.context.busyRoute)return null;var r=t.context.unconsumedSteadyRouteChunks||n.chunks,o=r.findIndex(t.where),i=(-1===o?r:r.slice(0,o+1)).find(function(t){return"error"===t.type});if(i)return{error:i.error||new Error("Unknown routing error")};if(-1===o)return null;var a=r[o],u=r.slice(0,o).filter(function(t){return"title"===t.type||"head"===t.type});for(o+=1;o<r.length;o++){var c=r[o];if("busy"===c.type||"error"===c.type||t.where(c))break;"title"!==c.type&&"head"!==c.type||u.push(c)}return{Chunk:a,headAndTitleChunks:u,route:n,childContext:K({},t.context,{busyRoute:t.context.busyRoute,unconsumedSteadyRouteChunks:r.slice(o)})}},n.prototype.componentDidUpdate=function(t,e){this.handleUpdate(e)},n.prototype.componentDidMount=function(){this.handleUpdate()},n.prototype.handleUpdate=function(t){if(this.state.route&&(!t||!t.route||t.route!==this.state.route)){var e=t&&t.route,n=this.state.route;if(n&&"busy"!==n.type){if(e&&n.url.pathname===e.url.pathname&&n.url.search===e.url.search&&n.url.hash===e.url.hash)return;this.props.disableScrolling||e&&e.url&&e.url.hash===n.url.hash&&e.url.pathname===n.url.pathname||a(n.url.hash,e&&e.url&&e.url.pathname===n.url.pathname?this.props.hashScrollBehavior:"auto")}}},n.prototype.render=function(){if(this.state.error)throw this.state.error;var t=this.state,n=t.Chunk,r=t.headAndTitleChunks;if(!n||!n.view){if(e.Suspense)throw this.props.context.navigation.getRoute();return console.warn('A Navi <View> component was rendered before your Navigation store\'s state had become steady. Consider waiting before rendering with "await navigation.getRoute()", or upgrading React to version 16.6 to handle this with Suspense.'),null}var i,a,u=r&&r.length&&e.createElement.apply(e,[V,null].concat(r.map(function(t){return"title"===t.type?(n=t.title,(r=z[n])||(r=z[n]=e.createElement("title",null,n)),r):t.head.type===e.Fragment||"head"===t.head.type?t.head.props.children:t.head;var n,r})));if(this.props.children){if("function"!=typeof(a=this.props.children))throw new Error('A Navi <View> expects any children to be a function, but instead received "'+a+'".');i=this.props.children(n.view,this.state.route)}else{if(!n.view)throw new Error("A Navi <View> was not able to find a `children` prop, and was unable to find any body or head content in the consumed Route Chunk's `content`.");"function"==typeof n.view?i=e.createElement(n.view,{route:this.props.context.steadyRoute}):("string"==typeof n.view||e.isValidElement(n.view))&&(i=n.view)}return e.createElement(o.Provider,{value:this.state.childContext},u||null,e.isValidElement(i)?e.cloneElement(i):i)},n}(e.Component),Q=(function(t){function e(e){var n=t.call(this,'A Navi <View> component attempted to use a Chunk that couldn\'t be found. This is likely due to its "where" prop.')||this;return n.context=e,n}$(e,t)}(n.NaviError),function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),J=function(t){function r(e){var r=t.call(this,e)||this;return r.navigation=e.navigation||n.createBrowserNavigation({basename:e.basename,context:e.context,history:e.history,routes:e.routes}),r}return Q(r,t),r.prototype.render=function(){var t=this.props.children;return e.createElement(T,{navigation:this.navigation},t||e.createElement(W,null))},r.prototype.componentDidMount=function(){this.props.navigation&&this.props.context&&this.props.navigation.setContext(this.props.context)},r.prototype.componentDidUpdate=function(t){(function(t,e){for(var n in t)if(!(n in e))return!0;for(var n in e)if(t[n]!==e[n])return!0;return!1})(t.context||{},this.props.context||{})&&this.navigation.setContext(this.props.context||{})},r.prototype.componentWillUnmount=function(){this.props.navigation||this.navigation.dispose(),delete this.navigation},r.defaultProps={fallback:void 0},r}(e.Component);function Z(t){return e.createElement(o.Consumer,null,function(e){return t.children(e.navigation.history)})}function tt(t){return e.createElement(o.Consumer,null,function(e){return t.children(e.busyRoute)})}function et(t){return e.createElement(o.Consumer,null,function(e){return t.children(e.steadyRoute||e.busyRoute)})}t.Link=d,t.NavLink=d,t.NaviProvider=T,t.NavProvider=T,t.NotFoundBoundary=m,t.NavNotFoundBoundary=m,t.Router=J,t.useNavigation=function(){return e.useContext(o).navigation},t.NaviConsumer=function(t){var n=t.children;return e.createElement(o.Consumer,{children:function(t){var e=t.navigation;return n(e)}})},t.useHistory=function(){return e.useContext(o).navigation.history},t.History=Z,t.NavHistory=Z,t.useLoadingRoute=function(){return e.useContext(o).busyRoute},t.LoadingRoute=tt,t.NavLoading=tt,t.useCurrentRoute=function(){var t=e.useContext(o),n=t.steadyRoute,r=t.busyRoute;return n||r},t.CurrentRoute=et,t.NavRoute=et,t.View=W,t.NavContent=W,t.NavContextProvider=i,Object.defineProperty(t,"__esModule",{value:!0})});
